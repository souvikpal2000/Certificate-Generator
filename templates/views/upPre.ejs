<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/headerLinks') %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <title>Templates</title>
</head>
<body>
    <%- include('../partials/navbar') %>

    <div class="container">
        <div class="row">
            <% if(alertMessage) { %>
                <div class="uploadAlert">
                    <div class="alert alert-danger alert-dismissible col-12 col-md-5" role="alert">
                        <%= alertMessage %>
                        <button type="button" class="btn-close" data-dismiss="alert" aria-label="Close"></button>
                    </div>
                </div>
            <% } %>
            <form action="/add/template/<%= sheetId %>" method="POST" enctype="multipart/form-data" class="uploadForm">
                <div class="mt-3 mb-3 input-group col-12 col-md-6">
                    <input class="form-control" type="file" name="template" id="template">
                    <input type="submit" class="btn btn-primary" value="Upload">
                </div> 
            </form>
            <% if(certificate) { %>
            <p class="templateHiddenTag" hidden>/<%= certificate %></p>
            <iframe src="/<%= modifiedPdf %>" id="pdf" height="450px" class="mb-4"></iframe>
            <form method="POST" action="/savecoordinates/<%= sheetId %>">
                <div class="form-group row coordinates">
                    <div class="col-12 col-md-3">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="inputGroup-sizing-default">X-Coordinates</span>
                            <input type="number" name="xcoord" id="xcoord" class="form-control" aria-label="Sizing example input" required aria-describedby="inputGroup-sizing-default">
                        </div>
                    </div>
    
                    <div class="col-12 col-md-3">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="inputGroup-sizing-default">Y-Coordinates</span>
                            <input type="number" name="ycoord" id="ycoord" class="form-control" aria-label="Sizing example input" required aria-describedby="inputGroup-sizing-default">
                        </div>		
                    </div>
                </div>
                <div class="form-group row">
                    <div class="saveCoordSection">
                        <button class="saveCoordinates">Save</button>
                    </div>
                </div>
            </form>
            <div class="previewSection mb-3">
                <button class="preview" onclick="generatePDF()">Preview</button>
            </div>
            <% } %>
        </div>
    </div>

    <%- include('../partials/footer') %>
</body>
<%- include('../partials/footerLinks') %>
</html>